<!-- Main Wrapper with min-h-screen for sticky footer -->
<div class="min-h-screen flex flex-col">

    <!-- Top Back Button -->
    <div class="bg-gradient-to-r from-green-800 via-green-700 to-green-800 text-white p-4 shadow-md">
      <div class="max-w-7xl mx-auto flex items-center">
        <a routerLink="/" class="cursor-pointer flex items-center space-x-2 hover:text-green-300 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
            stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
          </svg>
          <span class="text-sm font-medium">Back to Courses</span>
        </a>
      </div>
    </div>
  
    <!-- Course Detail Section -->
    <div class="flex-grow max-w-7xl mx-auto px-4 py-10 grid grid-cols-1 md:grid-cols-3 gap-10">
      <!-- Left Side: Course Info -->
      <div class="md:col-span-2">
        <img [src]="course?.courseImg" alt="Course Icon" class="w-100 rounded-xl mb-4" *ngIf="!loading" />
        <h1 class="text-3xl font-bold text-green-900 mb-2"><span>Hands-On </span>{{ course?.title }}. <span> Build Advanced {{ course?.title }} Projects. </span></h1>
        <p class="text-green-700 text-sm mb-4">Created by <strong>Opio Daniel</strong></p>
        <!-- <p class="text-gray-800 leading-relaxed">
          Learn how to build scalable, production-ready React applications using TypeScript, Redux Toolkit, Testing Library,
          Storybook and more. This course dives deep into professional frontend practices.
        </p> -->
        <p class="text-gray-800 leading-relaxed">{{ course?.description }}</p>
  
        <!-- What you'll learn -->
        <div class="bg-green-50 border border-green-100 rounded-xl p-6 mt-10">
          <h2 class="text-xl font-semibold text-green-800 mb-4">What you'll learn</h2>
          <ul class="list-disc list-inside space-y-2 text-green-900">
            <li>Build modern web apps using React, Redux Toolkit & TypeScript</li>
            <li>Write testable code with Jest and Testing Library</li>
            <li>Use Storybook for component-driven development</li>
            <li>Understand Webpack, Babel and testing strategies</li>
          </ul>
        </div>
      </div>
  
      <!-- Right Side: Registration Box -->    

      <div class="bg-white rounded-xl shadow-md p-6 sticky top-20 h-fit">
        <img src="https://cdn-icons-png.flaticon.com/512/1903/1903162.png" class="w-28 h-28 mb-6" alt="Course Icon" />
        <h1 class="text-3xl font-bold text-green-900 mb-2">{{ course?.title }}</h1>
        <p class="text-green-700 text-sm mb-6">{{ course?.description }}</p>
      
        <!-- ✅ Show "Already Enrolled" Message -->
        <div *ngIf="isEnrolled" class="flex items-center space-x-2 bg-green-50 border border-green-200 p-4 rounded mb-4">
          <!-- <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" stroke-width="2"
            viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
          </svg> -->

          <!-- <p class="text-green-800 font-medium">You are already enrolled in this course.</p> -->
          <a
            routerLink="/dashboard/dashboard-content"
            class="bg-green-700 text-white px-4 py-2 rounded shadow hover:bg-green-800 transition"
          >
            Go to My Dashboard
          </a>


        </div>
      
        <!-- ✅ Show Register Button If Not Enrolled -->
        <button
          *ngIf="!isEnrolled"
          (click)="registerCourse()"
          class="bg-green-700 hover:bg-green-800 text-white px-6 py-3 rounded-xl flex items-center space-x-2 shadow-md hover:shadow-lg transition-all transform hover:scale-105"
        >
          <svg class="w-5 h-5 animate-pulse" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path>
          </svg>
          <span>Register for Course</span>
        </button>
      </div>

    </div> 

    <!-- Bottom Padding -->
    <div class="pb-20"></div>
  
    <!-- Toast -->
    <div
        *ngIf="showToast"
        class="fixed bottom-6 right-6 bg-green-700 text-white px-6 py-3 rounded shadow-lg animate-fade-in"
    >
        ✅ You have successfully registered for this course!
    </div> 
   
  </div>