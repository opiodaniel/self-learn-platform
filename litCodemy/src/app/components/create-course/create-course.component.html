<form class="space-y-3 text-sm" (ngSubmit)="onSubmit()">
    <!-- Title -->
    <div>
      <label class="block font-medium mb-1">Title</label>
      <input
        type="text"
        class="w-full border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500"
        [(ngModel)]="title"
        name="title"
        required
      />
    </div>
  
    <!-- Description -->
    <div>
      <label class="block font-medium mb-1">Description</label>
      <textarea
        class="w-full border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500"
        [(ngModel)]="description"
        name="description"
        rows="3"
        required
      ></textarea>
    </div>
  
    <!-- Category -->
    <div>
      <label class="block font-medium mb-1">Category</label>
      <select
        class="w-full border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500"
        [(ngModel)]="categoryType"
        name="categoryType"
        required
      >
        <option value="" disabled>Select a category</option>
        <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
      </select>
    </div>
  
    <!-- Image Upload -->
    <div>
      <label class="block font-medium mb-1">Course Image</label>
      <input
        type="file"
        (change)="onFileChange($event)"
        class="block w-full text-sm border border-gray-300 rounded px-2 py-1"
        accept="image/*"
      />
    </div>
  
    <!-- Submit Button -->
    <button
      type="submit"
      class="bg-green-600 text-white px-3 py-1.5 rounded hover:bg-green-700 text-sm"
    >
      Save Course
    </button>
  </form>



  <h3 class="text-lg font-semibold mb-4">Courses</h3>

  <div *ngIf="courses.length === 0" class="text-gray-500">
    No courses found.
  </div>
  
  <!-- Responsive Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
    <div
      *ngFor="let course of paginatedCourses"
      class="bg-white rounded shadow p-3 flex flex-col justify-between"
    >
      <div>
        
        <div [routerLink]="['/management/course', course.id]" class="cursor-pointer" >
          <h4 class="font-bold text-sm">{{ course.title }}</h4>
          <p class="text-xs text-gray-500 mb-1">{{ course.description }}</p>
          <img
            *ngIf="course.courseImg"
            [src]="course.courseImg"
            class="w-full h-28 object-cover rounded mb-2"
            alt="Course image"
          />
        </div>  

        <p class="text-xs">
          <strong>Category:</strong> {{ course.categoryType }}
          <br />
          <strong>Status:</strong>
          <span [ngClass]="{
            'text-green-600': course.published,
            'text-red-500': !course.published
          }">
            {{ course.published ? 'Published' : 'Unpublished' }}
          </span>
        </p>
      </div>
  
      <div class="flex justify-between mt-2 text-xs">
        <button class="text-blue-600 hover:underline">Edit</button>
        <button
          *ngIf="!course.published"
          (click)="publishCourse(course.id)"
          class="text-green-600 hover:underline"
        >
          Publish
        </button>
        <!-- 
          class="bg-green-600 text-white px-4 py-1 rounded text-sm hover:bg-green-700"  -->
        <!-- <button class="text-green-600 hover:underline">Publish</button> -->
        <button class="text-red-600 hover:underline">Delete</button>
      </div>
    </div>
  </div>
  
  <!-- Pagination -->
  <div class="mt-6 flex justify-center items-center gap-2 text-sm">
    <button
      class="px-2 py-1 border rounded"
      [disabled]="currentPage === 1"
      (click)="goToPage(currentPage - 1)"
    >
      ← Prev
    </button>
  
    <ng-container *ngFor="let page of [].constructor(totalPages); let i = index">
      <button
        class="px-2 py-1 border rounded"
        [ngClass]="{ 'bg-green-600 text-white': currentPage === i + 1 }"
        (click)="goToPage(i + 1)"
      >
        {{ i + 1 }}
      </button>
    </ng-container>
  
    <button
      class="px-2 py-1 border rounded"
      [disabled]="currentPage === totalPages"
      (click)="goToPage(currentPage + 1)"
    >
      Next →
    </button>
  </div>